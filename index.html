<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KOF - Painel de Atendimento</title>

    <!-- Fontes e estilos -->
    <link rel="stylesheet" href="./assets/css/rpgui.css" type="text/css">
    <link rel="stylesheet" href="./assets/css/style.css" type="text/css">
    <link rel="stylesheet" href="./assets/css/new.css" type="text/css">
    <link rel="stylesheet" href="./assets/css/footer.css" type="text/css">
</head>

<body>
    <div class="rpg-ui">
        <div class="rpgui-content">
            <!-- ==============================
            CABEÇALHO: MENUS PRINCIPAIS
            =============================== -->
            <header>
                <!-- Menu principal (Team Select) -->
                <nav class="rpgui-container framed " style="height: 120px; width: 80%; top: 0; left: 10%;">
                    <div class="rpgui-nav-title">TEAM SELECT</div>
                    <ul class="rpgui-nav-list">
                        <li class="rpgui-nav-item"><a class="active" href="/index.html">HOME</a></li>
                        <li class="rpgui-nav-item"><a href="#">SOBRE</a></li>
                        <li class="rpgui-nav-item"><a href="#">PROJETO</a></li>
                        <li class="rpgui-nav-item"><a href="#">ACESSOS</a></li>
                        <li class="rpgui-nav-item"><a href="#">TELEFÔNICA</a></li>
                    </ul>
                </nav>
                <!-- Segunda barra: Links rápidos (estilo "Quick Access - Arcade") -->
                <nav class="rpgui-container framed " style="height:160px; width:80%; top: 20%; left: 10%;">
                    <div class="rpgui-nav-title">QUICK ACCESS - ARCADE MODE</div>
                    <ul class="rpgui-nav-list">
                        <li class="rpgui-nav-item rpgui-dropdown">
                            <a href="#">INFORMADAS</a>
                            <ul class="rpgui-dropdown-menu">
                                <li><a href="./assets/pages/saturadas/FTTH.html" target="_blank">FTTH</a></li>
                                <li><a href="./assets/pages/saturadas/FTTA.html" target="_blank">FTTA</a></li>
                            </ul>
                        </li>
                        <li class="rpgui-nav-item"><a href="https://rhtelefonica.zendesk.com/hc/pt-br"
                                target="_blank">VIVO PESSOAS</a></li>
                        <li class="rpgui-nav-item"><a href="https://vivowfm.redecorp.br/wfm/login?logout=true"
                                target="_blank">NICE</a></li>
                        <li class="rpgui-nav-item"><a href="https://outlook.office.com/mail/"
                                target="_blank">OUTLOOK</a></li>
                        <li class="rpgui-nav-item"><a
                                href="https://conexaopessoas.vivo.com.br/sap/bc/ui5_ui5/ui2/ushell/shells/abap/Fiorilaunchpad.html#Shell-home"
                                target="_blank">CONEXÃO PESSOAS</a></li>
                        <li class="rpgui-nav-item"><a href="https://intranet.telefonica.com.br/noticias"
                                target="_blank">INTRANET</a></li>
                        <li class="rpgui-nav-item"><a href="https://beneficios.vivo.com.br/vibe/#/"
                                target="_blank">VIBE</a></li>
                        <li class="rpgui-nav-item"><a href="https://performancemanager5.successfactors.eu/sf/home"
                                target="_blank">SUCCESS FACTORS</a></li>
                        <li class="rpgui-nav-item"><a href="https://www.academiav.com.br/login.html"
                                target="_blank">ACADEMIA V</a></li>
                    </ul>
                </nav>
            </header>
            <!-- ==============================
            CORPO PRINCIPAL: ARENA DE ATENDIMENTO
            =============================== -->
            <main class="rpgui-container framed " style="height:3000px; width:80%; top: 45%; left: 10%;">
                <!-- Painel de Status do Personagem (Avatar) -->
                <section>
                    <div class="character-dashboard">
                        <!-- Avatar -->
                        <div class="character-frame">
                            <div class="rpgui-container framed ">
                                <h2 class="rpgui-title">AVATAR</h2>
                                <img class="avatar-img" src="./assets/img/rachel-stance.gif" alt="Tech Fighter" />
                            </div>
                        </div>
                        <div class="character-frame">
                            <div class="rpgui-container framed">
                                <div class="rpgui-barprogress">
                                    <h2 class="rpgui-title">STATUS & CONTROLS</h2>
                                    <p>RPGUI progress bars with live controls</p>
                                    <hr />
                                    <div>
                                        <!-- PRODUTIVIDADE -->
                                        <label id="produtividade-text">PRODUTIVIDADE: </label>
                                        <div class="progress-container">                                            
                                            <div id="produtividade-bar" class="" style="width: 0%;"
                                                data-value="0">
                                                <span class="produtividade-value">0</span>
                                                <!-- Elemento para mostrar a produtividade já tratada -->
                                            </div>
                                            <span class="hp-label" id="produtividade-label">0%</span>
                                        </div>
                                        <div id="ordens-feitas-label">Ordens Feitas: 0</div>
                                        <!-- Elemento para mostrar ordens feitas -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!--  -->
                <!--  -->
                <section>
                    <div class="character-frame">
                        <div class="nav-container framed">
                            <h2 class="rpgui-title">MENU</h2>
                            <nav class="navegacao">
                                <ul class="navigation-menu" style="list-style-type: none; padding: 0;">
                                    <li class="back-to-clock" style="margin: 10px 0;">
                                        <a onclick="scrollToClock()" class="rpgui-button">RELOGIO</a>
                                    </li>
                                    <li style="margin: 10px 0;">
                                        <a class="rpgui-button" href="#sobre">Sobre</a>
                                    </li>
                                    <li style="margin: 10px 0;">
                                        <a class="rpgui-button" href="#servicos">Serviços</a>
                                    </li>
                                    <li style="margin: 10px 0;">
                                        <a class="rpgui-button" href="#contato">Contato</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </section>
                <!--  -->
                <!-- Seleção de Modo de Atendimento -->
                <section class="rpgui-container framed " style="margin-top: 25px;">
                    <h2 class="rpgui-title">SELECT YOUR FIGHTER</h2>
                    <div class="rpgui-section">
                        <div class="rpgui-col">
                            <div class="rpgui-input-group">
                                <label class="rpgui-label">Pon Next</label>
                                <input type="text" class="rpgui-input" id="filter-pon-next"
                                    placeholder="ENTER CODE..." />
                                <button class="rpgui-button" onclick="abrirAtendimentoNext()">NEXT BATTLE</button>
                            </div>
                        </div>
                        <div class="rpgui-col">
                            <div class="rpgui-input-group">
                                <label class="rpgui-label">Pon Siebel</label>
                                <input type="text" class="rpgui-input" id="filter-pon-siebel"
                                    placeholder="ENTER CODE..." />
                                <button class="rpgui-button" onclick="abrirAtendimentoSiebel()">SIEBEL MODE</button>
                            </div>
                        </div>
                        <div class="rpgui-col">
                            <div class="rpgui-input-group">
                                <label class="rpgui-label">WFM</label>
                                <input type="text" class="rpgui-input" id="filter-pon-WFM"
                                    placeholder="ENTER CODE..." />
                                <button class="rpgui-button" onclick="abrirAtendimentoWFM()">WFM ARENA</button>
                            </div>
                        </div>
                    </div>

                    <div class="rpgui-footer">
                        <div class="rpgui-button golden rpgui-button-close" type="button" style="width: 75%;"
                            onclick="fecharLinks()">
                            <p style="padding-top: 15px;">ABORT MISSION</p>
                        </div>
                    </div>
                </section>
                <!--  -->
                <!-- relogio -->
                <section id="relogio" class="rpgui-container framed" style="margin-top: 25px;">
                    <h2 class="rpgui-title">RELOGIO</h2>
                    <div class="rpgui-section">
                        <div id="clock" style="font-size: 24px; font-weight: bold;"></div>
                    </div>
                </section>
                <!--  -->
                <!--  -->
                <section class="rpgui-container framed" style="margin-top: 25px;">
                    <h2 class="rpgui-title">SELECT YOUR FIGHTER</h2>
                    <div class="rpgui-section">
                    </div>
                </section>
                <!--  -->
                <!--  -->
                <section class="rpgui-container framed">
                    <h2 class="rpgui-title">Possibilidade de Reversão</h2>
                    <div class="rpgui-section">
                        <input id="pon" type="text" placeholder="Pon">
                        <input id="cluster" type="text" placeholder="Cluster">
                        <input id="informada" type="text" placeholder="Informada">
                        <input id="motivo" type="text" placeholder="Motivo">
                        <input id="obs" type="text" placeholder="Observação">
                        <input id="facilidade" type="text" placeholder="Facilidade">
                        <div class="rpgui-sm">
                            <button class="rpgui-button" onclick="gerarDescricao()">Gerar Descrição</button>
                            <button class="rpgui-button" onclick="copiarDescricao()">Copiar Descrição</button>
                            <div id="output"></div>
                        </div>
                </section>
                <!--  -->
                <!--  -->
                <section class="rpgui-container framed " style="margin-top: 25px;">
                    <h2 class="rpgui-title">Ocorrencia ShortCall</h2>
                    <div class="rpgui-section">
                        <input type="text" id="matricula" class="rpgui-input" placeholder="Matrícula">
                        <input type="text" id="numeroCliente" class="rpgui-input" placeholder="Número do Cliente">
                        <input type="text" id="direcaoChamada" class="rpgui-input"
                            placeholder="Direção da Chamada (ativa/receptiva)">
                        <input type="text" id="horarioChamada" class="rpgui-input" placeholder="Horário da Chamada">
                        <input type="text" id="motivoCliente" class="rpgui-input" placeholder="Motivo">
                        <div class="rpgui-sm">
                            <button class="rpgui-button" onclick="gerarRegistro()">Gerar Registro</button>
                            <button class="rpgui-button" onclick="copiarRegistro()">Copiar Registro</button>
                        </div>
                    </div>
                </section>
                <!--  -->
                <!--  -->
                <section class="rpgui-container framed">
                    <h2 class="rpgui-title">Ocorrência ShortCall</h2>
                    <div class="rpgui-section"></div>
                </section>
                <!--  -->
            </main>
            <!-- ==============================
                        RODAPÉ
            =============================== -->
            <div class="back-to-top" style="position: fixed; bottom: 20px; right: 20px; display: none;">
                <button onclick="scrollToTop()" class="rpgui-button">Topo</button>
            </div>
            <!-- ==============================
                        RODAPÉ
            =============================== -->
            <footer style="text-align: center; margin-top: 50px; font-size: 0.8em; color: #aaa;">
                © 2025 KING OF FIGHTERS - TELEFÔNICA OPERATIONS
            </footer>
        </div>
    </div>
    <!-- ==============================
       OVERLAY: SUPER ATAQUE (opcional)
    =============================== -->
    <div id="superAttackOverlay" class="super-attack-overlay">
        <img src="./assets/img/aba-super.gif" class="super-attack-gif" alt="SUPER ATTACK!" />
    </div>
    <!-- ==============================
       SCRIPTS
    =============================== -->
    <script src="./assets/js/rpgui.js"></script>
    <script src="./assets/js/main.js"></script>

    <script>
        let ordensFeitas = 0;
        const produtividadeMaxima = 1200;

        function atualizarProdutividade(pons) {
            const produtividadeLabel = document.getElementById("produtividade-label");
            const produtividadeBar = document.getElementById("produtividade-bar");
            const ordensFeitasLabel = document.getElementById("ordens-feitas-label");
            const produtividadeValor = document.querySelector("#produtividade-bar .produtividade-value");

            ordensFeitas = pons.length; // Contagem de ordens feitas
            const produtividadeObtida = ordensFeitas * 0.8; // Produtividade obtida com base nas ordens
            const porcentagemProdutividade = (produtividadeObtida / produtividadeMaxima) * 100; // Cálculo da porcentagem

            console.log(`Número de PONS: ${ordensFeitas}, Produtividade Obtida: ${produtividadeObtida}, Porcentagem: ${porcentagemProdutividade}`);

            // Atualizando a UI com a nova produtividade
            produtividadeValor.innerText = `${produtividadeObtida.toFixed(1)}`; // Exibindo a produtividade tratada
            produtividadeLabel.innerText = `${Math.round(porcentagemProdutividade)}%`;
            produtividadeBar.style.width = `${Math.min(porcentagemProdutividade, 100)}%`; // Limitar a 100%
            ordensFeitasLabel.innerText = `Ordens Feitas: ${ordensFeitas}`;
        }

        // Fazendo a requisição para o arquivo JSON
        fetch('./assets/json/main.json') // Certifique-se de que o caminho está correto
            .then(response => {
                if (!response.ok) {
                    throw new Error('Erro na resposta da rede: ' + response.statusText);
                }
                return response.json();
            })
            .then(data => {
                if (data && data.pons) {
                    atualizarProdutividade(data.pons); // Passa o array de PONS para a função
                } else {
                    console.error('Resposta inválida:', data);
                }
            })
            .catch(error => {
                console.error('Erro ao carregar o main.json:', error);
            });
    </script>

</body>

</html>
